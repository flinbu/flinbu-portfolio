.glitch {
    width: 100%;
    height: 100%;
    margin: 0;
    padding: 0;
    position: relative;
    overflow: hidden;
    .app__light & {
        mix-blend-mode: multiply;
    }
    &__wrapper {
        width: 100%;
        height: 100%;
    }
    &__img {
        position: absolute;
        top: calc(-1 * var(--gap-vertical));
        left: calc(-1 * var(--gap-horizontal));
        width: calc(100% + var(--gap-horizontal) * 2);
        height: calc(100% + var(--gap-vertical) * 2);
        background-repeat: no-repeat;
        background-position: 50% 0;
        background-size: contain;
        background-color: var(--blend-color-1);
        transform: translate3d(0, 0, 0);
        background-blend-mode: var(--blend-mode-1);
        // &:nth-child(n+2) {
        //     opacity: 0;
        // }
        .glitch__on-glitch & {
            animation: glitch-anim-horizontal var(--time-anim) infinite linear alternate;
            &:first-child {
                animation: none;
            }
            &:last-child {
                animation: glitch-anim-flash var(--time-anim) steps(1,end) infinite;
            }
        }
        .glitch__16x9 & {
            background-size: cover;
        }
    }
    &__bg-change {
        animation: fade-flip var(--change-speed) ease-in-out 1;
    }
    &__style-1 {
        --gap-horizontal: 20px;
        --gap-vertical: 2px;
        // --time-anim: attr(data-time);
        --blend-mode-1: none;
        --blend-mode-2: none;
        --blend-mode-3: none;
        --blend-mode-4: none;
        --blend-mode-5: none;
        --blend-color-1: transparent;
        --blend-color-2: transparent;
        --blend-color-3: transparent;
        --blend-color-4: transparent;
        --blend-color-5: transparent;
    }
    &__style-2 {
        --gap-horizontal: 5px;
        --gap-vertical: 10px;
        --time-anim: 2s;
        --blend-mode-1: none;
        --blend-mode-2: none;
        --blend-mode-3: luminosity;
        --blend-mode-4: none;
        --blend-mode-5: none;
        --blend-color-1: transparent;
        --blend-color-2: transparent;
        --blend-color-3: #4d8c60;
        --blend-color-4: transparent;
        --blend-color-5: #c9b09a;
    }
    &__style-3 {
        --gap-horizontal: 20px;
        --gap-vertical: 2px;
        --time-anim: 2.25s;
        --blend-mode-1: none;
        --blend-mode-2: none;
        --blend-mode-3: multiply;
        --blend-mode-4: none;
        --blend-mode-5: none;
        --blend-color-1: transparent;
        --blend-color-2: transparent;
        --blend-color-3: #af4563;
        --blend-color-4: transparent;
        --blend-color-5: transparent;
    }
    &__style-4 {
        --gap-horizontal: 5px;
        --gap-vertical: 20px;
        --time-anim: 5s;
        --blend-mode-1: none;
        --blend-mode-2: exclusion;
        --blend-mode-3: hard-light;
        --blend-mode-4: overlay;
        --blend-mode-5: none;
        --blend-color-1: transparent;
        --blend-color-2: #52f1cd;
        --blend-color-3: #525df1;
        --blend-color-4: #f19b52;
        --blend-color-5: transparent;
    }
    &__style-5 {
        --gap-horizontal: 50px;
        --gap-vertical: 100px;
        --time-anim: 2.25s;
        --blend-mode-1: none;
        --blend-mode-2: none;
        --blend-mode-3: none;
        --blend-mode-4: overlay;
        --blend-mode-5: overlay;
        --blend-color-1: transparent;
        --blend-color-2: transparent;
        --blend-color-3: transparent;
        --blend-color-4: #000;
        --blend-color-5: #8d16f2;
    }
    &__style-6 {
        --gap-horizontal: 3px;
        --gap-vertical: 70px;
        --time-anim: 2.25s;
        --blend-mode-1: none;
        --blend-mode-2: none;
        --blend-mode-3: overlay;
        --blend-mode-4: none;
        --blend-mode-5: none;
        --blend-color-1: transparent;
        --blend-color-2: transparent;
        --blend-color-3: rgba(255,255,255,0.2);
        --blend-color-4: transparent;
        --blend-color-5: transparent;
    }
}

@keyframes glitch-anim-horizontal {
	0% { 
		clip-path: polygon(0 2%, 100% 2%, 100% 5%, 0 5%);
	}
	10% {
		clip-path: polygon(0 15%, 100% 15%, 100% 15%, 0 15%);
	}
	20% {
		clip-path: polygon(0 10%, 100% 10%, 100% 20%, 0 20%);
	}
	30% {
		clip-path: polygon(0 1%, 100% 1%, 100% 2%, 0 2%);
	}
	40% {
		clip-path: polygon(0 33%, 100% 33%, 100% 33%, 0 33%);
	}
	50% {
		clip-path: polygon(0 44%, 100% 44%, 100% 44%, 0 44%);
	}
	60% {
		clip-path: polygon(0 50%, 100% 50%, 100% 20%, 0 20%);
	}
	70% {
		clip-path: polygon(0 70%, 100% 70%, 100% 70%, 0 70%);
	}
	80% {
		clip-path: polygon(0 80%, 100% 80%, 100% 80%, 0 80%);
	}
	90% {
		clip-path: polygon(0 50%, 100% 50%, 100% 55%, 0 55%);
	}
	100% {
		clip-path: polygon(0 70%, 100% 70%, 100% 80%, 0 80%);
	}
}
/* Flash */
@keyframes glitch-anim-flash {
	0% { 
		opacity: 0.2; 
		transform: translate3d(var(--gap-horizontal), var(--gap-vertical), 0);
	}
	33%, 100% { 
		opacity: 0;
		transform: translate3d(0,0,0);
	}
}
// FadeFlip
@keyframes fade-flip {
    0% {
        opacity: 1;
    }
    50% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}